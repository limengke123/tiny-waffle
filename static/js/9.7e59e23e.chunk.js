(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{355:function(e,t,a){},422:function(e,t,a){},442:function(e,t,a){"use strict";a.r(t);var n=a(108),r=a(0),i=a.n(r),s=a(438),l=a(429),c=a(439),o=a(72),d=a(105),u=a.n(d),m=a(101);class g{constructor(e){this.name="",this.code="",e&&(e.name&&(this.name=e.name),e.code&&(this.code=e.code))}getName(){return this.name}setName(e){this.name=e}getCode(){return this.code}setCode(e){this.code=e}}const p=u.a.times,h=u.a.minus,v=u.a.plus,y=u.a.strip;let b;u.a.enableBoundaryChecking(!1),function(e){e[e.small=1]="small",e[e.middle=2]="middle",e[e.large=3]="large"}(b||(b={}));const f=new Map([[b.small,"\u5c0f\u7f51"],[b.middle,"\u4e2d\u7f51"],[b.large,"\u5927\u7f51"]]);class I extends g{getBuyTradingList(){const e=[];let t=this.gear;for(;t<=this.maxGear;)e.push(...this.getTradeInfoByGear(t)),t++;return e}getTradeInfoByGear(e){const t=[],a=y(1-(e-1)*this.amplitudeInterval),n=y(1-(e-2)*this.amplitudeInterval);let r=y(this.basePrice*a);const i=y(this.investment*(1+this.additionalRate*(e-1))),s=I.computedRealBuyingQuantity(i/r);let l=p(s,r),c=y(this.basePrice*n);const o=100*~~(.9*s/100);let d=p(c,o);const u=I.getRateDiffByRate(a,this.middleAmplitudeInterval),g=I.getRateDiffByRate(a,this.largeAmplitudeInterval);r=I.contractData(r,3,!1),c=I.contractData(c,3,!1),l=I.contractData(l,2),d=I.contractData(d,2);const v=h(s,o),f={buyingPrice:r,buyingMoney:l,buyingQuantity:s,sellQuantity:o,sellPrice:c,sellMoney:d,netProfit:h(d,l),stockNumCollect:v,extraStockMoney:p(v,c),currentGear:e,rate:a,intervalSize:b.small};if(t.push(f),u){const e=y((a+this.middleAmplitudeInterval)*this.basePrice),n=100*~~(.95*s/100),r=p(n,e),i=h(s,n);t.push(Object(m.a)({},f,{intervalSize:b.middle,sellPrice:e,sellQuantity:n,sellMoney:r,netProfit:h(r,l),stockNumCollect:i,extraStockMoney:p(i,e)}))}if(g){const e=y((a+this.largeAmplitudeInterval)*this.basePrice),n=s,r=p(n,e),i=h(s,n);t.push(Object(m.a)({},f,{intervalSize:b.large,sellPrice:e,sellQuantity:n,sellMoney:r,netProfit:h(r,l),stockNumCollect:i,extraStockMoney:p(i,e)}))}return t}static getRateDiffByRate(e,t){const a=h(1,e);return 0!==a&&p(a,100)%p(t,100)===0?y(a/t):0}static computedRealBuyingQuantity(e){const t=p(~~(e/100),100);return h(e,t)>=50?v(t,100):t}static contractData(e,t=3,a=!0){const n=e.toFixed(t);return a?n:parseFloat(n)}constructor(e){super(),this.basePrice=I.defaultBasePrice,this.amplitudeInterval=I.defaultAmplitudeInterval,this.investment=I.defaultInvestment,this.maxGear=I.defaultMaxGear,this.gear=1,this.additionalRate=I.defaultAdditionalRate,this.middleAmplitudeInterval=I.defaultMiddleAmplitudeInterval,this.largeAmplitudeInterval=I.defaultLargeAmplitudeInterval,e&&(void 0!==e.basePrice&&(this.basePrice=e.basePrice),void 0!==e.amplitudeInterval&&(this.amplitudeInterval=e.amplitudeInterval),void 0!==e.investment&&(this.investment=e.investment),void 0!==e.maxGear&&(this.maxGear=e.maxGear))}getTradingStoreProps(){return{basePrice:this.getBasePrice(),amplitudeInterval:this.getAmplitudeInterval(),investment:this.getInvestment(),maxGear:this.getMaxGear()}}setBasePrice(e){this.basePrice=e}getBasePrice(){return this.basePrice}setAmplitudeInterval(e){this.amplitudeInterval=e}getAmplitudeInterval(){return this.amplitudeInterval}setInvestment(e){this.investment=e}getInvestment(){return this.investment}getGear(){return this.gear}setMaxGear(e){this.maxGear=e}getMaxGear(){return this.maxGear}getMiddleAmplitudeInterval(){return this.middleAmplitudeInterval}getLargeAmplitudeInterval(){return this.largeAmplitudeInterval}}I.defaultBasePrice=1,I.defaultAmplitudeInterval=.05,I.defaultInvestment=1e3,I.defaultAdditionalRate=.05,I.defaultMaxGear=9,I.defaultMiddleAmplitudeInterval=.15,I.defaultLargeAmplitudeInterval=.3;var P=a(441),E=a(444),S=a(206);const x=u.a.times;function w(e){const t=e.basePrice,a=e.maxGear,n=e.investment,r=e.amplitudeInterval,s=e.handleChange,l=e.handleGenerate;return i.a.createElement(P.a,{layout:"inline"},i.a.createElement(P.a.Item,{label:"\u57fa\u51c6\u57fa\u91d1\u4ef7\u683c"},i.a.createElement(E.a,{value:t,onChange:e=>s("basePrice",e),placeholder:"\u8f93\u5165\u57fa\u51c6\u57fa\u91d1\u4ef7\u683c"})),i.a.createElement(P.a.Item,{label:"\u57fa\u51c6\u4e70\u5165\u4ef7\u683c"},i.a.createElement(E.a,{value:n,onChange:e=>s("investment",e),placeholder:"\u8f93\u5165\u57fa\u51c6\u4e70\u5165\u4ef7\u683c"})),i.a.createElement(P.a.Item,{label:"\u7f51\u683c\u5927\u5c0f"},i.a.createElement(E.a,{min:0,max:100,formatter:e=>"".concat(e,"%"),parser:e=>e?e.replace("%",""):0,value:x(r,100),onChange:e=>s("amplitudeInterval",e),placeholder:"\u8f93\u5165\u7f51\u683c\u5927\u5c0f"})),i.a.createElement(P.a.Item,{label:"\u6781\u9650\u6863\u4f4d"},i.a.createElement(E.a,{value:a,onChange:e=>s("maxGear",e),placeholder:"\u8f93\u5165\u6781\u9650\u6863\u4f4d"})),i.a.createElement(P.a.Item,null,i.a.createElement(S.a,{onClick:l,type:"primary"},"\u751f\u6210")))}var j=a(440);a(355);const G=u.a.times,k=u.a.plus,O=u.a.minus,M={intervalSizeRowSpan:1,currentGearRowSpan:1,buyingMoneyRowSpan:1,buyingPriceRowSpan:1,buyingQuantityRowSpan:1},R={[b.small]:"",[b.middle]:"middle",[b.large]:"large"},A=function(e,t,a=!0){return function(n,r){const i={children:e?e(n,r):n,props:{className:R[r.intervalSize]}};return a&&t&&(i.props.rowSpan=r[t]),i}},C=[{title:"\u6863\u4f4d",dataIndex:"currentGear",render:A((e,t)=>"".concat(G(t.rate,100),"%"),"currentGearRowSpan",!0)},{key:"intervalSize",title:"\u7f51\u683c\u5927\u5c0f",render:A((e,t)=>f.get(t.intervalSize)||"\u672a\u77e5","intervalSizeRowSpan",!1)},{title:"\u4e70\u5165\u64cd\u4f5c",children:[{title:"\u89e6\u53d1\u4e70\u5165\u4ef7\u683c",key:"buyingTriggerPrice",render:A((e,t)=>"<= ".concat(k(t.buyingPrice,.001)),"buyingPriceRowSpan",!1)},{title:"\u4e70\u5165\u4ef7\u683c",dataIndex:"buyingPrice",render:A(void 0,void 0,!1)},{title:"\u4e70\u5165\u80a1\u6570",dataIndex:"buyingQuantity",render:A(void 0,void 0,!1)},{title:"\u4e70\u5165\u91d1\u989d",dataIndex:"buyingMoney",render:A(void 0,void 0,!1)}]},{title:"\u5356\u51fa\u64cd\u4f5c",children:[{title:"\u5356\u51fa\u89e6\u53d1\u4ef7\u683c",key:"sellTriggerPrice",render:A((e,t)=>">= ".concat(O(t.sellPrice,.001)),"buyingPriceRowSpan",!1)},{title:"\u5356\u51fa\u4ef7\u683c",dataIndex:"sellPrice",render:A(void 0,void 0,!1)},{title:"\u5356\u51fa\u80a1\u6570\u80a1\u6570",dataIndex:"sellQuantity",render:A(void 0,void 0,!1)},{title:"\u5356\u51fa\u91d1\u989d",dataIndex:"sellMoney",render:A(void 0,void 0,!1)}]},{title:"\u64cd\u4f5c\u5229\u6da6",children:[{title:"\u672c\u91d1\u5165\u888b\u76c8\u4e8f",dataIndex:"netProfit",render:A(void 0,void 0,!1)},{title:"\u83b7\u5f97\u7684\u80a1\u6570",dataIndex:"stockNumCollect",render:A(void 0,void 0,!1)},{title:"\u989d\u5916\u80a1\u6570\u5bf9\u5e94\u91d1\u989d",dataIndex:"extraStockMoney",render:A(void 0,void 0,!1)},{title:"\u5408\u8ba1\u6536\u76ca",key:"total",render:A((e,t)=>k(t.extraStockMoney,t.netProfit))}]}],B=function(e,t){return function(a){return function(e,t,a){const n=[];let r=0;for(let i=e.length-1;i>=0;i--){const s=e[i],l=e[i-1]?e[i-1]:null;l&&l[t]===s[t]?(r++,n.unshift(Object(m.a)({},s,{[a]:0}))):(r++,n.unshift(Object(m.a)({},s,{[a]:r})),r=0)}return n}(a,e,t)}},N=function(e){const t=e.map(e=>Object(m.a)({},e,{},M));return function(...e){return function(t){return e.reduce((e,t)=>t(e),t)}}(B("intervalSize","intervalSizeRowSpan"),B("currentGear","currentGearRowSpan"),B("buyingPrice","buyingPriceRowSpan"),B("buyingQuantity","buyingQuantityRowSpan"),B("buyingMoney","buyingMoneyRowSpan"))(t)};function D(e){const t=e.store.getBuyTradingList();return i.a.createElement(j.a,{className:"trade-table",style:{margin:"20px 0 20px 0"},rowKey:e=>"".concat(e.buyingPrice,"|").concat(e.intervalSize),bordered:!0,dataSource:N(t),columns:C,pagination:!1})}var K=a(451),z=a(449);const Q=u.a.plus,T=u.a.times,L=u.a.minus,V=K.a.Item;function J(e){return"".concat(T(e,100),"%")}function F(e){const t=e.store,a=t.getAmplitudeInterval(),n=t.getBasePrice(),r=t.getInvestment(),s=t.getMaxGear(),l=T(L(s,1),a),c=t.getBuyTradingList().reduce((e,t)=>Q(e,t.buyingMoney),0);return i.a.createElement(K.a,{bordered:!0},i.a.createElement(V,{label:"\u57fa\u91d1\u57fa\u51c6\u4ef7\u683c"},n),i.a.createElement(V,{label:"\u4e70\u5165\u57fa\u51c6\u4ef7\u683c"},r),i.a.createElement(V,{label:"\u7f51\u683c\u5927\u5c0f"},J(a)),i.a.createElement(V,{label:"\u6781\u9650\u6863\u4f4d"},s),i.a.createElement(V,{label:"\u6781\u9650\u8dcc\u5e45"},i.a.createElement(z.a,{status:"warning",text:J(l)})),i.a.createElement(V,{label:"\u6781\u9650\u8d44\u91d1"},i.a.createElement(z.a,{status:"processing",text:c})))}var q=a(443),H=a(445),_=(a(422),a(450));class U{constructor(e){this.storage=localStorage,this.persistenceKey="trade_list",e&&(e.storage&&(this.storage=e.storage),e.persistenceKey&&(this.persistenceKey=e.persistenceKey))}static generateKey(){return Object(_.a)()}static generateDate(){return(new Date).toLocaleString()}getPersistenceView(){try{const t=this.storage.getItem(this.persistenceKey);return t?{success:!0,data:JSON.parse(t)}:{success:!0,data:void 0}}catch(e){return{success:!1,error:e}}}savePersistenceView(e){try{const a=JSON.stringify(e);return this.storage.setItem(this.persistenceKey,a),{success:!0,data:e}}catch(t){return{success:!1,error:t}}}setStorage(e){this.storage=e}getStorage(){return this.storage}getPersistenceKey(){return this.persistenceKey}setPersistence(e){this.persistenceKey=e}}class W extends U{addData(e){const t={id:U.generateKey(),date:U.generateDate(),data:e};try{const e=this.getPersistenceView();if(e.success){let a=[];e.data?(a=e.data).push(t):a=[t];const n=this.savePersistenceView(a);if(n.success)return{success:!0,data:n.data};throw n.error}throw e.error}catch(a){return{success:!1,error:a}}}removeDataById(e){try{const a=this.getPersistenceView();if(a.success&&a.data){const t=a.data.findIndex(t=>t.id===e),n=a.data;return n.splice(t,1),this.savePersistenceView(n),{success:!0,data:e}}return{success:!0,data:e}}catch(t){return{success:!1}}}}function X(e){const t=e.name,a=e.code,s=e.handleChange,l=e.store,c=Object(r.useState)(!1),o=Object(n.a)(c,2),d=o[0],u=o[1],m=Object(r.useState)(!1),g=Object(n.a)(m,2),p=g[0],h=g[1];return i.a.createElement("div",{className:"trade-header-info"},i.a.createElement("div",{className:"header-container"},i.a.createElement(q.a,{className:"custom-input-name",placeholder:"\u8f93\u5165\u7f51\u683c\u540d\u79f0",value:t,onChange:e=>s("name",e.target.value)}),i.a.createElement(q.a,{className:"custom-input-code",placeholder:"\u8f93\u5165\u57fa\u91d1\u4ee3\u7801",value:a,onChange:e=>s("code",e.target.value)}),i.a.createElement(S.a,{type:"primary",onClick:function(){(new W).addData(l.getTradingStoreProps())}},"\u4fdd\u5b58\u914d\u7f6e"),i.a.createElement(S.a,{type:"danger"},"\u5220\u9664\u914d\u7f6e"),i.a.createElement(S.a,{onClick:function(){u(!0)}},"\u4f30\u503c\u67e5\u770b")),i.a.createElement(H.a,{title:"\u6298\u6ea2\u4ef7\u67e5\u770b",placement:"right",width:1300,closable:!1,visible:p,onClose:function(){h(!1)}},i.a.createElement("div",{className:"iframe-container"},i.a.createElement("iframe",{className:"iframe",title:"jisilu",src:"https://www.jisilu.cn/data/qdii/#qdii"}))),i.a.createElement(H.a,{title:"\u4f30\u503c\u67e5\u770b",placement:"right",width:700,closable:!1,visible:d,onClose:function(){u(!1)}},i.a.createElement("div",{className:"iframe-container"},i.a.createElement("iframe",{className:"iframe",title:"danjuan",src:"https://danjuanapp.com/djmodule/value-center?channel=1300100141"}))))}a.d(t,"default",function(){return ne});const Y=u.a.divide,Z=s.a.Sider,$=s.a.Header,ee=s.a.Content,te=s.a.Footer,ae=l.a.Item;function ne(){const e=Object(r.useState)(I.defaultBasePrice),t=Object(n.a)(e,2),a=t[0],d=t[1],u=Object(r.useState)(I.defaultAmplitudeInterval),m=Object(n.a)(u,2),g=m[0],p=m[1],h=Object(r.useState)(I.defaultInvestment),v=Object(n.a)(h,2),y=v[0],b=v[1],f=Object(r.useState)(I.defaultMaxGear),P=Object(n.a)(f,2),E=P[0],S=P[1],x=Object(r.useState)(new I),j=Object(n.a)(x,2),G=j[0],k=j[1],O=Object(r.useState)(!0),M=Object(n.a)(O,2),R=M[0],A=M[1],C=Object(r.useState)(""),B=Object(n.a)(C,2),N=B[0],K=B[1],z=Object(r.useState)(""),Q=Object(n.a)(z,2),T=Q[0],L=Q[1];return i.a.createElement(s.a,null,i.a.createElement(c.a,{visibilityHeight:200}),i.a.createElement(Z,{width:200,collapsible:!0,collapsed:R,onCollapse:()=>A(!R)},i.a.createElement("div",{className:"logo"},"logo\u5360\u4f4d\u7b26"),i.a.createElement(l.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},i.a.createElement(ae,{key:"1"},i.a.createElement(o.a,{type:"desktop"}),i.a.createElement("span",null,"\u7f51\u683c\u8bbe\u7f6e\u9875\u9762")),i.a.createElement(ae,{key:"2"},i.a.createElement(o.a,{type:"user"}),i.a.createElement("span",null,"\u5de5\u5177\u9875\u9762")))),i.a.createElement(s.a,null,i.a.createElement($,{style:{background:"#fff",padding:"0 16px"}},i.a.createElement(X,{store:G,name:N,code:T,handleChange:function(e,t){switch(console.log(e,t),e){case"code":L(t);break;case"name":K(t)}}})),i.a.createElement(ee,{style:{background:"#fff",padding:"10px 16px",margin:"10px 0"}},i.a.createElement(w,{amplitudeInterval:g,basePrice:a,investment:y,maxGear:E,handleChange:function(e,t){if(t)switch(e){case"basePrice":d(t);break;case"investment":b(t);break;case"amplitudeInterval":p(Y(t,100));break;case"maxGear":S(t)}},handleGenerate:function(){const e=new I({amplitudeInterval:g,basePrice:a,investment:y,maxGear:E});k(e)}}),i.a.createElement(D,{store:G}),i.a.createElement(F,{store:G})),i.a.createElement(te,{style:{background:"#fff",padding:"10px 16px",textAlign:"center"}},"\u4e0d\u6784\u6210\u4efb\u4f55\u6295\u8d44\u5efa\u8bae, \u6295\u8d44\u9700\u8c28\u614e")))}}}]);
//# sourceMappingURL=9.7e59e23e.chunk.js.map