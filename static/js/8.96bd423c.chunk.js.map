{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","util/baseFunction.ts","util/dateFunction.ts","util/copy.ts","util/index.ts","style/component/todoListItem.module.scss","style/component/todoInput.module.scss","component/todoListItem.tsx","component/todoInput.tsx","page/todoList.tsx"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","__webpack_require__","d","__webpack_exports__","BaseFunction","[object Object]","data","index","parseInt","Array","isArray","splice","keyType","findIndex","item","DateFunction","currentTime","date","Date","_ref","getFullYear","padWithZero","getMonth","getDate","getHours","getMinutes","getSeconds","month","day","hours","minutes","seconds","concat","toString","padStart","copy","text","textArea","document","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","body","appendChild","select","msg","error","execCommand","err","removeChild","module","exports","is-complete","todo-input","TodoListItem","PureComponent","args","super","this","onDelete","_this$props","props","handleDelete","onComplete","_this$props2","handleComplete","render","info","isComplete","textClassName","classNames","styles","react_default","a","onClick","className","wrapper","type","defaultProps","id","TodoInput","handleKeyUp","e","keyCode","onChange","placeholder","onKeyUp","TodoList","React","Component","constructor","addTodoListItem","inputValue","state","setState","todos","deleteTodoListItem","getIndexFromListById","removeItemFromListByIndex","todo","objectSpread2","handleInputValueChange","_this$state","todoInput_TodoInput","map","todoListItem_TodoListItem"],"mappings":"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","file":"static/js/8.96bd423c.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","class BaseFunction {\n    /**\n     * @summary 从数组中移除对应索引位置的元素\n     * @param data - {array} - 数据源\n     * @param index - {number} - 索引值\n     * @return {void}\n     * */\n    static removeItemFromListByIndex(data: any[], index: number | string) {\n        if (typeof index !== 'number') {\n            index = parseInt(index, 10)\n        }\n        if (Array.isArray(data) && index >= 0 && index < data.length) {\n            data.splice(index, 1)\n        }\n    }\n\n    /**\n     * @summary 依据id获取元素在数组的索引\n     * @param data - {array} - 数据源\n     * @param target - {any} - 目标值\n     * @param keyType - {string} - 依据的key类型 - id\n     * @return {number} index\n     * */\n    static getIndexFromListById<T extends any, S extends any>(\n        data: S[],\n        target: T,\n        keyType: keyof S = 'id'\n    ): number {\n        if (Array.isArray(data)) {\n            return data.findIndex((item: S) => item[keyType] === target)\n        }\n        return -1\n    }\n}\n\nexport { BaseFunction }\n","class DateFunction {\n    static get currentTime(): string {\n        const date = new Date()\n        const [year, month, day, hours, minutes, seconds] = [\n            date.getFullYear(),\n            DateFunction.padWithZero(date.getMonth() + 1),\n            DateFunction.padWithZero(date.getDate()),\n            DateFunction.padWithZero(date.getHours()),\n            DateFunction.padWithZero(date.getMinutes()),\n            DateFunction.padWithZero(date.getSeconds())\n        ]\n        return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`\n    }\n\n    /**\n     * @summary 当时间字符串是一位数字的时候，给字符串补齐0\n     * @example 9 -> 09\n     * @param data - {string} - 原始数据\n     * @return {string}\n     * */\n    static padWithZero(data: any) {\n        const stringData = typeof data !== 'string' ? data.toString() : data\n        return stringData.padStart(2, '0')\n    }\n}\n\nexport { DateFunction }\n","export const copy = function(text: string): { error: Error; msg: string } {\n    const textArea = document.createElement('textarea')\n\n    textArea.style.position = 'fixed'\n    textArea.style.top = '0'\n    textArea.style.left = '0'\n    textArea.style.width = '2em'\n    textArea.style.height = '2em'\n    textArea.style.padding = '0'\n    textArea.style.border = 'none'\n    textArea.style.outline = 'none'\n    textArea.style.boxShadow = 'none'\n    textArea.style.background = 'transparent'\n    textArea.value = text\n\n    document.body.appendChild(textArea)\n\n    textArea.select()\n\n    let msg = ''\n    let error = null\n    try {\n        msg = document.execCommand('copy') ? '成功' : '失败'\n    } catch (err) {\n        error = err\n    } finally {\n        document.body.removeChild(textArea)\n    }\n\n    return {\n        error,\n        msg\n    }\n}\n","export { BaseFunction } from './baseFunction'\nexport { DateFunction } from './dateFunction'\nexport { copy } from './copy'\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"todoListItem_text__1qBE9\",\"date\":\"todoListItem_date__WPQyV\",\"is-complete\":\"todoListItem_is-complete__31UFF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"todo-input\":\"todoInput_todo-input__2Rf_6\"};","import React, { PureComponent } from 'react'\nimport classNames from 'classnames'\nimport styles from '../style/component/todoListItem.module.scss'\n\nexport interface TodoListItemProps {\n    data: TodoItem\n    handleDelete: (data: TodoListItemProps['data']) => void\n    handleComplete: (data: TodoListItemProps['data']) => void\n}\n\nexport interface TodoItem {\n    isComplete: boolean\n    id: number\n    info: {\n        text: string\n        date: string\n    }\n}\n\nexport class TodoListItem extends PureComponent<TodoListItemProps> {\n    static defaultProps = {\n        data: {\n            isComplete: false,\n            info: {\n                text: '',\n                data: ''\n            },\n            id: ''\n        },\n        handleDelete() {},\n        handleComplete() {}\n    }\n\n    onDelete = () => {\n        const { handleDelete, data } = this.props\n        handleDelete(data)\n    }\n\n    onComplete = () => {\n        const { handleComplete, data } = this.props\n        handleComplete(data)\n    }\n\n    render() {\n        const { data } = this.props\n        const { info, isComplete } = data\n        const { date, text } = info\n        const textClassName = classNames(styles.text, {\n            [styles['is-complete']]: isComplete\n        })\n        return (\n            <div>\n                <div onClick={this.onComplete} className={styles.wrapper}>\n                    <span className={textClassName}>{text}</span>\n                    <span className={styles.date}>{date}</span>\n                </div>\n                <button type=\"button\" onClick={this.onDelete}>\n                    删除\n                </button>\n            </div>\n        )\n    }\n}\n","import React, { PureComponent } from 'react'\nimport styles from '../style/component/todoInput.module.scss'\n\nexport interface TodoInputProps {\n    value: string\n    onComplete: () => void\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void\n    placeholder: string\n}\n\nexport class TodoInput extends PureComponent<TodoInputProps, {}, {}> {\n    static defaultProps = {\n        value: '',\n        onComplete() {},\n        onChange() {},\n        placeholder: ''\n    }\n\n    handleKeyUp = (e: React.KeyboardEvent<HTMLInputElement>) => {\n        if (e.keyCode === 13) {\n            const { onComplete } = this.props\n            onComplete()\n        }\n    }\n\n    render() {\n        const { value, onChange, placeholder } = this.props\n        return (\n            <div>\n                <input\n                    type=\"text\"\n                    value={value}\n                    onChange={onChange}\n                    onKeyUp={this.handleKeyUp}\n                    className={styles['todo-input']}\n                    placeholder={placeholder}\n                />\n            </div>\n        )\n    }\n}\n","import React from 'react'\nimport {\n    TodoItem,\n    TodoListItem,\n    TodoListItemProps\n} from '../component/todoListItem'\nimport { TodoInput, TodoInputProps } from '../component/todoInput'\nimport { BaseFunction, DateFunction } from '../util'\n\ninterface TodoListState {\n    todos: TodoItem[]\n    inputValue: string\n}\n\nexport default class TodoList extends React.Component<any, TodoListState, any> {\n    constructor(props: any) {\n        super(props)\n        this.state = {\n            todos: [],\n            inputValue: ''\n        }\n    }\n\n    addTodoListItem = () => {\n        const { inputValue } = this.state\n        if (inputValue) {\n            this.setState(state => {\n                state.todos.push({\n                    isComplete: false,\n                    id: TodoList.index++,\n                    info: {\n                        text: inputValue,\n                        date: DateFunction.currentTime\n                    }\n                })\n                return {\n                    inputValue: '',\n                    todos: state.todos\n                }\n            })\n        }\n    }\n\n    deleteTodoListItem = ({ id }: TodoListItemProps['data']) => {\n        this.setState(state => {\n            const index = BaseFunction.getIndexFromListById(state.todos, id)\n            BaseFunction.removeItemFromListByIndex(state.todos, index)\n            return {\n                todos: state.todos\n            }\n        })\n    }\n\n    handleComplete = ({ id }: TodoListItemProps['data']) => {\n        this.setState(state => {\n            const index = BaseFunction.getIndexFromListById(state.todos, id)\n            const todo = state.todos[index]\n            state.todos[index] = {\n                ...todo,\n                isComplete: !todo.isComplete\n            }\n            return {\n                todos: state.todos\n            }\n        })\n    }\n\n    handleInputValueChange: TodoInputProps['onChange'] = e => {\n        this.setState({\n            inputValue: e.target.value\n        })\n    }\n\n    static index = 0\n\n    render() {\n        const { todos, inputValue } = this.state\n        return (\n            <div>\n                <TodoInput\n                    value={inputValue}\n                    onChange={this.handleInputValueChange}\n                    onComplete={this.addTodoListItem}\n                    placeholder=\"请输入待办项\"\n                />\n                {!todos.length && <span>暂无数据</span>}\n                {todos.map(todo => (\n                    <TodoListItem\n                        handleDelete={this.deleteTodoListItem}\n                        handleComplete={this.handleComplete}\n                        data={todo}\n                        key={todo.id}\n                    />\n                ))}\n            </div>\n        )\n    }\n}\n"],"sourceRoot":""}